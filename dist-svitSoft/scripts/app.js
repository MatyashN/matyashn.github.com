var todoModel=function(){function e(e,t,o,a){i.push({id:d(),name:e,duedate:t,description:o,completed:a})}function t(e){i.forEach(function(t,o){t.id==e&&i.splice(o,1)})}function o(e,t,o,a,n){i.forEach(function(d,r){d.id==e&&(i[r].id=e,i[r].name=t,i[r].duedate=o,i[r].description=a,i[r].completed=n)})}function a(){window.localStorage.tasks=JSON.stringify(i,function(e,t){return"$$hashKey"!=e?t:void 0})}function n(){var e=window.localStorage.tasks;return i=e?JSON.parse(e):[]}function d(){var e;return i&&0!=i.length?e=i[i.length-1].id+1:0}var i=n();return{data:i,addItem:e,updateItem:o,removeItem:t,save:a}}(),myApp=angular.module("myApp",["ngRoute","ctrl"]);myApp.config(["$routeProvider",function(e){e.when("/page-1",{templateUrl:"views/view1.html"}),e.when("/page-2",{templateUrl:"views/view2.html"}),e.when("/page-3",{templateUrl:"views/view3.html"}),e.otherwise({redirectTo:"/page-1"})}]);var ctrl=angular.module("ctrl",[]);ctrl.controller("mainCtrl",["$scope",function(e){e.tasks=todoModel.data,e.addTask=todoModel.addItem,e.statusBtn=!0,e.removeTask=todoModel.removeItem,e.updateTask=todoModel.updateItem,e.save=todoModel.save,e.$watch("tasks",function(){e.save()},!0),e.cleanForm=function(){e.name=void 0,e.desc=void 0,e.date=void 0,e.completed=!1},e.editTask=function(t){e.tasks.forEach(function(o,a){o.id==t&&(e.name=o.name,e.desc=o.description,e.date=o.duedate,e.completed=o.completed,e.id=o.id)}),e.statusBtn=!1},e.minlength=3}]);